CREATE OR REPLACE PROCEDURE  USPS_PD_FL_MODEL_REGR_RESULT (
    v_pd_rule_id  number,
    v_model_id    number,
    Cur_out OUT SYS_REFCURSOR
)
AS
BEGIN
	OPEN Cur_out FOR

	SELECT A.MODEL_ID, A.MODEL_SEQ, D.REGRESSION_TYPE, C.MODEL_FORMULA, A.ADJ_R_SQUARED,
	B.STD_ERROR, (DF_TOTAL + 1) AS "DF_TOTAL", D.SIGNIFICANT_P_VALUE
	FROM R_MULT_LINEAR_REGR_RESULT_PEN A
	JOIN R_MULT_LINEAR_REGR_COEF_PEN B
	ON A.MODEL_ID = B.MODEL_ID
	AND A.MODEL_SEQ = B.MODEL_SEQ
	JOIN R_ME_MODEL_SCENARIO_PEN C
	ON A.MODEL_ID = C.MODEL_ID
	AND A.MODEL_SEQ = C.MODEL_SEQ
	JOIN IFRS_FL_MODEL_VAR D
	ON A.MODEL_ID = D.PKID
    WHERE A.MODEL_ID = v_model_id
    AND D.DEPENDENT_VAR_VALUE = v_pd_rule_id
    AND A.MODEL_SEQ = 469;

END;
CREATE OR REPLACE PROCEDURE  USPS_R_MODEL_FILTER_DTL (
    v_MODEL_ID    NUMBER,
    Cur_out OUT SYS_REFCURSOR
)
AS
    v_status NUMBER(10);
BEGIN
    SELECT STATUS
    INTO v_status
    FROM IFRS_FL_MODEL_VAR_PEN
    WHERE PKID = v_MODEL_ID;

    IF v_status = 1 THEN
        OPEN Cur_out FOR
        SELECT A.PKID,
        A.VARIABLENAME,
        A.LOOKUPINITIAL,
        ROUND(A.CORRELATION_VAL,6) CORRELATION_VAL,
        A.VARIABLE_SELECTION
        FROM R_MODEL_FILTER_DTL A
        WHERE MODEL_ID = v_MODEL_ID;
    ELSE
        OPEN Cur_out FOR
        SELECT A.PKID,
        A.VARIABLENAME,
        A.LOOKUPINITIAL,
        ROUND(A.CORRELATION_VAL,6) CORRELATION_VAL,
        A.VARIABLE_SELECTION
        FROM R_MODEL_FILTER_DTL_PEN A
        WHERE MODEL_ID = v_MODEL_ID;
    END IF;
END;
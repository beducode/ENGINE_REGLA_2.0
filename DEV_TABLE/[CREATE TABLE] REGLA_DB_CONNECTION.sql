DROP TABLE IF EXISTS REGLA_DB_CONNECTION;

CREATE TABLE IF NOT EXISTS REGLA_DB_CONNECTION (
	PKID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
	DBCONN_PKID BIGINT NOT NULL,
	DBHOST BYTEA NOT NULL,
	DBNAME BYTEA NOT NULL,
	DBUSER BYTEA NOT NULL,
	DBPASS BYTEA NOT NULL,
	DBPORT BIGINT NOT NULL,
	CREATEDBY VARCHAR(50) DEFAULT 'SYSTEM',
	CREATEDDATE TIMESTAMP WITHOUT TIME ZONE DEFAULT CURRENT_DATE,
	CREATEDHOST VARCHAR(50) DEFAULT 'LOCALHOST',
	UPDATEDBY VARCHAR(50) NULL,
	UPDATEDDATE TIMESTAMP WITHOUT TIME ZONE,
	UPDATEDHOST VARCHAR(50) NULL
);



/*

CREATE EXTENSION pgcrypto;

INSERT INTO REGLA_DB_CONNECTION (DBCONN_PKID, DBHOST, DBNAME, DBUSER, DBPASS, DBPORT) VALUES (2
,pgp_sym_encrypt('alloy.dev.regla.cloud','QymZvg/vd4HtrC+L0TLsGhlfunLM1n7Wbim11J1Dwq+3Qqj6rprAjZmgEm+s7qSAeIkx7aJgHb57FGnpav9xzDlvYoJA9b24pYNAFdKQGtCBOr3udKEZWt9O4vPt9SJ2qSd1gzhUn/PdngF5/qAjv/gLtt0TQYU4cqn1bM3pDcQ5Hv4gT/l4WJrOqoPbPRzHwNpPCG/O0A1qSvOS31njfQ==')
,pgp_sym_encrypt('IFRS9','QymZvg/vd4HtrC+L0TLsGhlfunLM1n7Wbim11J1Dwq+3Qqj6rprAjZmgEm+s7qSAeIkx7aJgHb57FGnpav9xzDlvYoJA9b24pYNAFdKQGtCBOr3udKEZWt9O4vPt9SJ2qSd1gzhUn/PdngF5/qAjv/gLtt0TQYU4cqn1bM3pDcQ5Hv4gT/l4WJrOqoPbPRzHwNpPCG/O0A1qSvOS31njfQ==')
,pgp_sym_encrypt('reglaalloy01','QymZvg/vd4HtrC+L0TLsGhlfunLM1n7Wbim11J1Dwq+3Qqj6rprAjZmgEm+s7qSAeIkx7aJgHb57FGnpav9xzDlvYoJA9b24pYNAFdKQGtCBOr3udKEZWt9O4vPt9SJ2qSd1gzhUn/PdngF5/qAjv/gLtt0TQYU4cqn1bM3pDcQ5Hv4gT/l4WJrOqoPbPRzHwNpPCG/O0A1qSvOS31njfQ==')
,pgp_sym_encrypt('ynJlX2nPkXCCrXRdP70k0L7','QymZvg/vd4HtrC+L0TLsGhlfunLM1n7Wbim11J1Dwq+3Qqj6rprAjZmgEm+s7qSAeIkx7aJgHb57FGnpav9xzDlvYoJA9b24pYNAFdKQGtCBOr3udKEZWt9O4vPt9SJ2qSd1gzhUn/PdngF5/qAjv/gLtt0TQYU4cqn1bM3pDcQ5Hv4gT/l4WJrOqoPbPRzHwNpPCG/O0A1qSvOS31njfQ==')
,8433)


SELECT * FROM REGLA_DB_CONNECTION

SELECT pgp_sym_decrypt(dbpass, 'QymZvg/vd4HtrC+L0TLsGhlfunLM1n7Wbim11J1Dwq+3Qqj6rprAjZmgEm+s7qSAeIkx7aJgHb57FGnpav9xzDlvYoJA9b24pYNAFdKQGtCBOr3udKEZWt9O4vPt9SJ2qSd1gzhUn/PdngF5/qAjv/gLtt0TQYU4cqn1bM3pDcQ5Hv4gT/l4WJrOqoPbPRzHwNpPCG/O0A1qSvOS31njfQ==')
FROM REGLA_DB_CONNECTION
*/